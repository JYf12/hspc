{"remainingRequest":"F:\\temp\\fronttemp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\temp\\fronttemp\\src\\views\\order_details\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\temp\\fronttemp\\src\\views\\order_details\\index.vue","mtime":1717475453700},{"path":"F:\\temp\\fronttemp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717475447212},{"path":"F:\\temp\\fronttemp\\node_modules\\babel-loader\\lib\\index.js","mtime":1717475446713},{"path":"F:\\temp\\fronttemp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717475447212},{"path":"F:\\temp\\fronttemp\\node_modules\\vue-loader\\lib\\index.js","mtime":1717475453180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRPcmRlckluZm8sIHVwZGF0ZU9yZGVyU3RhdHVzLCB1cGRhdGVPcmRlclN0YXR1c0Vycm9yIH0gZnJvbSAnQC9hcGkvb3JkZXJfZGV0YWlscycNCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlkOiAwLA0KICAgICAgb3JkZXJJbmZvOiBudWxsLA0KICAgICAgb3JkZXJQYWNrYWdlTGlzdDogW10sDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICBwb3N0RGF0YTogew0KICAgICAgICBpZDogMCwNCiAgICAgICAgYWRkaXRpb246IG51bGwNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIHRoaXMuZ2V0T3JkZXJEZXRhaWxzKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldE9yZGVyRGV0YWlscygpIHsNCiAgICAgIGdldE9yZGVySW5mbyh0aGlzLmlkKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMub3JkZXJJbmZvID0gcmVzLmRhdGENCiAgICAgICAgdGhpcy5vcmRlclBhY2thZ2VMaXN0ID0gcmVzLmRhdGEub3JkZXJQYWNrYWdlTGlzdA0KICAgICAgfSkNCiAgICB9LA0KICAgIG9uY2xpY2tBdWRpdE9yZGVyKCkgew0KICAgICAgdXBkYXRlT3JkZXJTdGF0dXModGhpcy5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldEluZm8nKQ0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBvbmNsaWNrQXVkaXRPcmRlckVycm9yKCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygndmFsaWQ6JywgdmFsaWQpDQogICAgICAgICAgY29uc29sZS5sb2codmFsaWQpDQogICAgICAgICAgdGhpcy5wb3N0RGF0YS5pZCA9IHRoaXMuaWQNCiAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICB1cGRhdGVPcmRlclN0YXR1c0Vycm9yKHRoaXMucG9zdERhdGEpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldEluZm8nKQ0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/order_details","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-button :disabled=\"orderInfo.orderInfoProject.status === 0 || orderInfo.orderInfoProject.status === 2 || orderInfo.orderInfoProject.status === 3 || orderInfo.orderInfoProject.status === 4\" @click=\"onclickAuditOrder\" type=\"success\" plain>审核通过</el-button>\r\n    <el-button :disabled=\"orderInfo.orderInfoProject.status === 0 || orderInfo.orderInfoProject.status === 2 || orderInfo.orderInfoProject.status === 3 || orderInfo.orderInfoProject.status === 4\" @click=\"dialogFormVisible = true\" type=\"danger\" plain>审核不通过</el-button>\r\n    <el-dialog title=\"请输入备注\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"form\" :model=\"postData\">\r\n        <el-form-item label=\"备注\" prop=\"addition\" :label-width=\"'100px'\" :rules=\"[{ required: true, message: '请输入备注' }]\">\r\n          <el-input v-model=\"postData.addition\" type=\"textarea\" :rows=\"2\" placeholder=\"请输入内容\" ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onclickAuditOrderError\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-form ref=\"form\" :inline=\"true\" :model=\"orderInfo\" label-width=\"80px\">\r\n      <p>投标项目信息：</p>\r\n      <el-form-item label=\"项目编号\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.projectInfo.projectId\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"项目名称\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.projectInfo.projectName\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-form ref=\"form\" :inline=\"true\" :model=\"orderInfo\" label-width=\"100px\">\r\n      <p>订单信息：</p>\r\n      <el-form-item label=\"订单状态\">\r\n        <el-tag type=\"warning\" v-if=\"orderInfo.orderInfoProject.status === 0\">待付款</el-tag>\r\n        <el-tag type=\"primary\" v-if=\"orderInfo.orderInfoProject.status === 1\">已付款</el-tag>\r\n        <el-tag type=\"success\" v-if=\"orderInfo.orderInfoProject.status === 2\">已完成</el-tag>\r\n        <el-tag type=\"info\" v-if=\"orderInfo.orderInfoProject.status === 3\">已失效</el-tag>\r\n        <el-tag type=\"danger\" v-if=\"orderInfo.orderInfoProject.status ===4\">未通过</el-tag>\r\n      </el-form-item>\r\n      <el-form-item label=\"开票状态\">\r\n        <el-tag type=\"info\" v-if=\"orderInfo.orderInfoProject.isToken === 0\">不开票</el-tag>\r\n        <el-tag type=\"danger\" v-if=\"orderInfo.orderInfoProject.isToken === 1\">待开票</el-tag>\r\n        <el-tag type=\"warning\" v-if=\"orderInfo.orderInfoProject.isToken === 2\">已付款</el-tag>\r\n        <el-tag v-if=\"orderInfo.orderInfoProject.isToken === 3\">已开票</el-tag>\r\n        <el-tag type=\"success\" v-if=\"orderInfo.orderInfoProject.isToken === 4\">已邮寄</el-tag>\r\n      </el-form-item>\r\n      <el-form-item label=\"订单总金额\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.orderInfoProject.total\">\r\n          <template slot=\"append\">元</template>\r\n        </el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-form ref=\"form\" :inline=\"true\" :model=\"orderInfo\" label-width=\"100px\">\r\n      <p>投标人信息：</p>\r\n      <el-form-item label=\"联系人姓名\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.phoneNum\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"固定电话\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.telephone\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.email\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业名称\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.unitname\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业性质\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.companyStatus\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"企业地址\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.companyAddress\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"开户行\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.bank\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"银行卡号\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.bankNumber\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"开户手机号\">\r\n        <el-input :readonly=\"true\" v-model=\"orderInfo.users.bankPhone\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-form ref=\"form\" :label-position=\"'top'\" :model=\"orderInfo\" label-width=\"80px\">\r\n      <el-form-item label=\"法定代表人授权书（加盖公章）\">\r\n        <el-image\r\n          style=\"width: 100px; height: 100px\"\r\n          :src=\"orderInfo.fileAdditionMap.Auth.filePath\"\r\n          :preview-src-list=\"[orderInfo.fileAdditionMap.Auth.filePath]\">\r\n        </el-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"身份证（正反两面）\">\r\n        <el-image\r\n          style=\"width: 100px; height: 100px\"\r\n          :src=\"orderInfo.fileAdditionMap.ID0.filePath\"\r\n          :preview-src-list=\"[orderInfo.fileAdditionMap.ID0.filePath]\">\r\n        </el-image>\r\n        <el-image\r\n          style=\"width: 100px; height: 100px\"\r\n          :src=\"orderInfo.fileAdditionMap.ID1.filePath\"\r\n          :preview-src-list=\"[orderInfo.fileAdditionMap.ID0.filePath]\">\r\n        </el-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"营业执照\">\r\n        <el-image\r\n          style=\"width: 100px; height: 100px\"\r\n          :src=\"orderInfo.fileAdditionMap.Licen.filePath\"\r\n          :preview-src-list=\"[orderInfo.fileAdditionMap.Licen.filePath]\">\r\n        </el-image>\r\n      </el-form-item>\r\n      <el-form-item label=\"付款凭证\">\r\n        <el-image\r\n          style=\"width: 100px; height: 100px\"\r\n          :src=\"orderInfo.orderInfoProject.orderPicture\"\r\n          :preview-src-list=\"[orderInfo.orderInfoProject.orderPicture]\">\r\n        </el-image>\r\n      </el-form-item>\r\n      <el-table\r\n        :data=\"orderInfo.orderPackageList\"\r\n        border\r\n        style=\"width: 100%\">\r\n        <el-table-column\r\n          prop=\"index\"\r\n          label=\"序号\"\r\n          width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.$index + 1 }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"packageName\"\r\n          label=\"包件名称\"\r\n          width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.packageName }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"price\"\r\n          label=\"招标文件费（元）\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.price }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"fileName\"\r\n          label=\"招标文件\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.fileName }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderInfo, updateOrderStatus, updateOrderStatusError } from '@/api/order_details'\r\nimport store from '@/store'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      id: 0,\r\n      orderInfo: null,\r\n      orderPackageList: [],\r\n      dialogFormVisible: false,\r\n      postData: {\r\n        id: 0,\r\n        addition: null\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.id = this.$route.params.id\r\n    this.getOrderDetails()\r\n  },\r\n  methods: {\r\n    getOrderDetails() {\r\n      getOrderInfo(this.id).then(res => {\r\n        this.orderInfo = res.data\r\n        this.orderPackageList = res.data.orderPackageList\r\n      })\r\n    },\r\n    onclickAuditOrder() {\r\n      updateOrderStatus(this.id).then(res => {\r\n        console.log(res)\r\n        store.dispatch('user/getInfo')\r\n        this.$router.go(0)\r\n      })\r\n    },\r\n    onclickAuditOrderError() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          console.log('valid:', valid)\r\n          console.log(valid)\r\n          this.postData.id = this.id\r\n          this.dialogFormVisible = false\r\n          updateOrderStatusError(this.postData).then(res => {\r\n            store.dispatch('user/getInfo')\r\n            this.$router.go(0)\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}