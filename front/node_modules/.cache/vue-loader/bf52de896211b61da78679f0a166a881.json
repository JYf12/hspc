{"remainingRequest":"E:\\华盛项目\\bidding-agent\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\华盛项目\\bidding-agent\\front\\src\\views\\project_details\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\华盛项目\\bidding-agent\\front\\src\\views\\project_details\\index.vue","mtime":1724229796180},{"path":"E:\\华盛项目\\bidding-agent\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717475447212},{"path":"E:\\华盛项目\\bidding-agent\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1717475446713},{"path":"E:\\华盛项目\\bidding-agent\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717475447212},{"path":"E:\\华盛项目\\bidding-agent\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1717475453180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRQcm9qZWN0SW5mbywNCiAgZ2V0T3JkZXJMaXN0LA0KICBwb3N0U3RvcFByb2plY3QsDQogIGRlbGV0ZVByb2plY3QsDQogIGdldE9yZGVyUGFja2FnZUNvdW50LA0KICBwb3N0U3RhcnRQcm9qZWN0DQp9IGZyb20gJ0AvYXBpL3Byb2plY3RfZGV0YWlscycNCmltcG9ydCB7IGFkZFByb2plY3RGaWxlLCB1cGRhdGVQcm9qZWN0IH0gZnJvbSAnQC9hcGkvdGFibGUnDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBxdWVyeURhdGE6IHsNCiAgICAgICAgaWQ6IDANCiAgICAgIH0sDQogICAgICBwcm9qZWN0SW5mbzogbnVsbCwNCiAgICAgIG9yZGVyUXVlcnlEYXRhOiB7DQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgaWQ6IDANCiAgICAgIH0sDQogICAgICBvcmRlckxpc3Q6IG51bGwsDQogICAgICBwYWdlOiAxLA0KICAgICAgbGltaXQ6IDUsDQogICAgICB0b3RhbDogMCwNCiAgICAgIHJlYWRTdGF0dXM6ICdyZWFkb25seScsDQogICAgICBmaWxlTGlzdDogW10sDQogICAgICB1cGRhdGVEYXRhOiB7DQogICAgICAgIHByb2plY3ROYW1lOiAnJywNCiAgICAgICAgYWRkaXRpb246ICcnLA0KICAgICAgICBwYWNrYWdlTGlzdDogW10sDQogICAgICAgIHN0YXR1czogW10sIC8vIDAg5paw5aKe77yMIDEg5pu05paw77yMIDIg5LiN5Y+YDQogICAgICAgIHByb2plY3RJZDogJycNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5xdWVyeURhdGEuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICB0aGlzLm9yZGVyUXVlcnlEYXRhLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkDQogICAgdGhpcy5nZXRQcm9qZWN0RGV0YWlscygpDQogICAgdGhpcy5nZXRPcmRlckxpc3RQYWdlKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldFByb2plY3REZXRhaWxzKCkgew0KICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUNCiAgICAgIGF3YWl0IGdldFByb2plY3RJbmZvKHRoaXMucXVlcnlEYXRhKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5wcm9qZWN0SW5mbyA9IHJlc3BvbnNlLmRhdGENCiAgICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0ID0gcmVzcG9uc2UuZGF0YS5wYWNrYWdlTGlzdA0KICAgICAgICBjb25zdCBpbmRleE51bSA9IHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdC5sZW5ndGgNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleE51bTsgaSsrKSB7DQogICAgICAgICAgdGhpcy4kc2V0KHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXSwgJ3N0YXJ0VGltZScsIG5ldyBEYXRlKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5zdGFydFRpbWUpKQ0KICAgICAgICAgIHRoaXMuJHNldCh0aGlzLnVwZGF0ZURhdGEucGFja2FnZUxpc3RbaV0sICdlbmRUaW1lJywgbmV3IERhdGUodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLmVuZFRpbWUpKQ0KICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5zdGF0dXMucHVzaCgyKQ0KICAgICAgICAgIHRoaXMuZmlsZUxpc3QucHVzaCh7fSkNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRPcmRlckxpc3RQYWdlKCkgew0KICAgICAgZ2V0T3JkZXJMaXN0KHRoaXMucGFnZSwgdGhpcy5saW1pdCwgdGhpcy5vcmRlclF1ZXJ5RGF0YSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMub3JkZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzDQogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMubGltaXQgPSB2YWwNCiAgICAgIHRoaXMuZ2V0T3JkZXJMaXN0UGFnZSgpDQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKQ0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZSA9IHZhbA0KICAgICAgdGhpcy5nZXRPcmRlckxpc3RQYWdlKCkNCiAgICAgIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApDQogICAgfSwNCiAgICBoYW5kbGVVcGRhdGFGb3JtKCkgew0KICAgICAgdGhpcy5yZWFkU3RhdHVzID0gJycNCiAgICB9LA0KICAgIGFzeW5jIGhhbmRsZVN1Ym1pdFVwZGF0YSgpIHsNCiAgICAgIHRoaXMucmVhZFN0YXR1cyA9ICdyZWFkb25seScNCiAgICAgIHRoaXMudXBkYXRlRGF0YS5wcm9qZWN0SWQgPSB0aGlzLnByb2plY3RJbmZvLmlkDQogICAgICB0aGlzLnVwZGF0ZURhdGEucHJvamVjdE5hbWUgPSB0aGlzLnByb2plY3RJbmZvLnByb2plY3ROYW1lDQogICAgICB0aGlzLnVwZGF0ZURhdGEuYWRkaXRpb24gPSB0aGlzLnByb2plY3RJbmZvLmFkZGl0aW9uDQogICAgICB0aGlzLnVwZGF0ZURhdGEuaWQgPSB0aGlzLnByb2plY3RJbmZvLnByb2plY3RJZA0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZpbGVMaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5zdGFydFRpbWUgPSBtb21lbnQobmV3IERhdGUodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLnN0YXJ0VGltZSkpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpDQogICAgICAgIHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5lbmRUaW1lID0gbW9tZW50KG5ldyBEYXRlKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5lbmRUaW1lKSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykNCiAgICAgICAgaWYgKHRoaXMudXBkYXRlRGF0YS5zdGF0dXNbaV0gPT09IDIpIHsNCiAgICAgICAgICBjb250aW51ZQ0KICAgICAgICB9DQogICAgICAgIHZhciBmaWxlZGF0YSA9IG5ldyBGb3JtRGF0YSgpDQogICAgICAgIGZpbGVkYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZUxpc3RbaV0ucmF3KQ0KICAgICAgICBhd2FpdCBhZGRQcm9qZWN0RmlsZShmaWxlZGF0YSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UgPT09ICdzdWNjZXNzJykgew0KICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLmZpbGVQYXRoID0gcmVzcG9uc2UuZGF0YS5maWxlUGF0aA0KICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLmZpbGVOYW1lID0gcmVzcG9uc2UuZGF0YS5maWxlTmFtZQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpID0gaSAtIDENCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgICB1cGRhdGVQcm9qZWN0KHRoaXMudXBkYXRlRGF0YSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw5oiQ5Yqf77yBJykNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgIG5hbWU6ICdwcm9qZWN0X2RldGFpbHMnLA0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgaWQ6IHRoaXMucHJvamVjdEluZm8uaWQNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgY2FuY2VsTW9kaWZpY2F0aW9uKCkgew0KICAgICAgdGhpcy4kcm91dGVyLmdvKDApDQogICAgfSwNCiAgICBvbmNsaWNrU3RvcFByb2plY3QoKSB7DQogICAgICBwb3N0U3RvcFByb2plY3QodGhpcy5wcm9qZWN0SW5mby5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICAgIHRoaXMuJHJvdXRlci5nbygwKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG9uY2xpY2tTdGFydFByb2plY3QoKSB7DQogICAgICBwb3N0U3RhcnRQcm9qZWN0KHRoaXMucHJvamVjdEluZm8uaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBvbmNsaWNrRGVsZXRlUHJvamVjdCgpIHsNCiAgICAgIGRlbGV0ZVByb2plY3QodGhpcy5wcm9qZWN0SW5mby5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3RhYmxlJykNCiAgICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIG9uY2xpY2tPcmRlckRldGFpbHMoZSkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAnb3JkZXJfZGV0YWlscycsDQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIGlkOiBlLmlkDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBhZGRMaXN0KCkgew0KICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0LnB1c2goew0KICAgICAgICBpZDogJycsDQogICAgICAgIGZpbGVOYW1lOiAnJywNCiAgICAgICAgZmlsZVBhdGg6ICcnLA0KICAgICAgICBwYWNrYWdlTmFtZTogJycsDQogICAgICAgIHByaWNlOiAnJywNCiAgICAgICAgcHJvamVjdElkOiB0aGlzLnByb2plY3RJbmZvLmlkLA0KICAgICAgICBzdGFydFRpbWU6ICcnLA0KICAgICAgICBlbmRUaW1lOiAnJw0KICAgICAgfSkNCiAgICAgIHRoaXMudXBkYXRlRGF0YS5zdGF0dXMucHVzaCgyKQ0KICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKHt9KQ0KICAgIH0sDQogICAgLy8g5paw5aKe5LiA6KGMDQogICAgYWRkUGFyYW1zU2V0dGluZygpIHsNCiAgICAgIHRoaXMuYWRkTGlzdCgpDQogICAgfSwNCg0KICAgIC8vIOWIoOmZpOW9k+WJjeihjA0KICAgIGRlbGV0ZVJvdyhpbmRleCkgew0KICAgICAgZ2V0T3JkZXJQYWNrYWdlQ291bnQodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2luZGV4XS5pZCkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEgPiAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih7DQogICAgICAgICAgICBtZXNzYWdlOiAn6K+l5YyF5Lu25bey6KKr6LSt5Lmw77yM5peg5rOV5Yig6Zmk77yBJywNCiAgICAgICAgICAgIHRvU3RyaW5nOiAoKSA9PiB0aGlzLm1lc3NhZ2UNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnN0YXR1cy5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVDaGFuZ2UoZmlsZSwgZmlsZWxpc3QsIGluZGV4KSB7DQogICAgICBjb25zdCBmaWxlU2l6ZSA9IE51bWJlcihmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCkNCiAgICAgIGlmIChmaWxlU2l6ZSA+IDIwNDgpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfmlofku7blpKflsI/kuI3og73otoXov4cyR0LvvIzor7fph43mlrDkuIrkvKDjgIInKQ0KICAgICAgICBmaWxlbGlzdC5zcGxpY2UoZmlsZWxpc3QubGVuZ3RoIC0gMSwgMSkNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB3aGlsZSAoZmlsZWxpc3QubGVuZ3RoID4gMSkgew0KICAgICAgICBmaWxlbGlzdC5zcGxpY2UoMCwgMSkNCiAgICAgIH0NCiAgICAgIGlmIChmaWxlKSB7DQogICAgICAgIHRoaXMuZmlsZUxpc3RbaW5kZXhdID0gZmlsZWxpc3RbZmlsZWxpc3QubGVuZ3RoIC0gMV0NCiAgICAgICAgaWYgKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpbmRleF0uZmlsZVBhdGggPT09ICcnKSB7DQogICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnN0YXR1c1tpbmRleF0gPSAwDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnN0YXR1c1tpbmRleF0gPSAxDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KDQogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVsaXN0LCBpbmRleCkgew0KICAgICAgdGhpcy5maWxlTGlzdFtpbmRleF0gPSB7fQ0KICAgIH0sDQogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7DQogICAgICBjb25zb2xlLmxvZyhmaWxlKQ0KICAgIH0sDQogICAgZG93bmxvYWRPcmRlckV4Y2VsKCkgew0KICAgICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSArICcvYXBpL29yZGVyL2Rvd25sb2FkT3JkZXJMaXN0LycgKyB0aGlzLnByb2plY3RJbmZvLmlkDQogICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpDQogICAgICBhLmhyZWYgPSB1cmwNCiAgICAgIGEuY2xpY2soKQ0KICAgIH0sDQogICAgZmlsdGVyRG93bmxvYWQodmFsdWUsIHJvdykgew0KICAgICAgcmV0dXJuIHJvdy5kb3dubG9hZFN0YXR1cyA9PT0gdmFsdWUNCiAgICB9LA0KICAgIGZpbHRlclN0YXR1cyh2YWx1ZSwgcm93KSB7DQogICAgICByZXR1cm4gcm93LnN0YXR1cyA9PT0gdmFsdWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/project_details","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form ref=\"form\" :model=\"projectInfo\" label-width=\"120px\">\r\n      <el-form-item>\r\n        <el-button @click=\"handleUpdataForm\" v-if=\"readStatus==='readonly'\" type=\"primary\">修改</el-button>\r\n        <el-button @click=\"handleSubmitUpdata\" v-if=\"readStatus===''\" type=\"primary\">确定</el-button>\r\n        <el-button @click=\"cancelModification\" v-if=\"readStatus===''\" type=\"primary\">取消</el-button>\r\n        <el-button @click=\"onclickStopProject\" v-if=\"this.projectInfo.status===1\" type=\"warning\">停止招标</el-button>\r\n        <el-button @click=\"onclickStartProject\" v-if=\"this.projectInfo.status===2\" type=\"primary\">开始招标</el-button>\r\n        <el-button @click=\"onclickDeleteProject\" type=\"danger\">删除</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"项目编号\">\r\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.projectId\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"项目名称\">\r\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.projectName\"/>\r\n      </el-form-item>\r\n      <el-form-item label=\"备注\">\r\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.addition\" type=\"textarea\"/>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button v-if=\"readStatus===''\" type=\"primary\" size=\"small\" @click=\"addParamsSetting\">新增包件</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"包件信息\">\r\n        <el-table\r\n          :data=\"updateData.packageList\"\r\n          style=\"width: 100%\"\r\n          class=\"list-table\"\r\n          size=\"mini\"\r\n          border>\r\n          <el-table-column prop=\"index\" label=\"序号\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item>\r\n                {{ scope.$index + 1 }}\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"packageName\" label=\"包件名称\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                label=\"\"\r\n                :prop=\"'form.tableData.' + scope.$index + '.packageName'\"\r\n                :rules=\"[{ required: true, message: '包件名称不可为空', trigger: 'change' }]\">\r\n                <el-input :readonly=\"readStatus==='readonly'\" v-model=\"scope.row.packageName\" placeholder=\"请输入包件名称\"></el-input>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"price\" label=\"招标文件费\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                label=\"\"\r\n                :prop=\"'form.tableData.' + scope.$index + '.price'\"\r\n                :rules=\"[{ required: true, message: '招标文件费不可为空', trigger: 'change' }]\"\r\n              >\r\n                <el-input :readonly=\"readStatus==='readonly'\" v-model=\"scope.row.price\" placeholder=\"请输入招标文件费\" @keyup=\"value=value.replace(/[^\\d]/g,'')\" @blur=\"value=value.replace(/[^\\d]/g,'')\">\r\n                  <template slot=\"append\">元</template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"startTime\" label=\"开始时间\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                label=\"\"\r\n                :prop=\"'form.tableData.' + scope.$index + '.startTime'\"\r\n                :rules=\"[{ required: true, message: '开始时间不可为空', trigger: 'change' }]\">\r\n                <el-date-picker\r\n                  :readonly=\"readStatus==='readonly'\"\r\n                  v-model=\"scope.row.startTime\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"选择开始时间\"\r\n                  value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"endTime\" label=\"结束时间\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                label=\"\"\r\n                :prop=\"'form.tableData.' + scope.$index + '.endTime'\"\r\n                :rules=\"[{ required: true, message: '结束时间不可为空', trigger: 'change' }]\">\r\n                <el-date-picker\r\n                  :readonly=\"readStatus==='readonly'\"\r\n                  v-model=\"scope.row.endTime\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"选择结束时间\"\r\n                  value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n                </el-date-picker>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"filePath\" label=\"招标文件\" width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                label=\"\"\r\n                :prop=\"'form.tableData.' + scope.$index + '.fileList'\"\r\n                :rules=\"[{ required: true, message: '招标文件不可为空', trigger: 'change' }]\"\r\n              >\r\n                <el-upload\r\n                  v-if=\"readStatus===''\"\r\n                  action=\"http://localhost:8089\"\r\n                  class=\"upload-demo\"\r\n                  ref=\"upload\"\r\n                  :on-change=\"(file, filelist) => {handleChange(file, filelist, scope.$index)}\"\r\n                  :on-preview=\"handlePreview\"\r\n                  :on-remove=\"(file, filelist) => {handleRemove(file, filelist, scope.$index)}\"\r\n                  :limit=\"2\"\r\n                  :auto-upload=\"false\">\r\n                  选取文件\r\n                </el-upload>\r\n                <p v-if=\"readStatus==='readonly'\">{{ scope.row.fileName }}</p>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"readStatus===''\" label=\"操作\" width=\"50\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click.native.prevent=\"deleteRow(scope.$index)\" type=\"text\" size=\"small\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"downloadOrderExcel\" type=\"primary\">投标信息下载</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"投标信息\">\r\n        <el-table\r\n          :data=\"orderList\"\r\n          style=\"width: 100%\"\r\n          :row-class-name=\"tableRowClassName\">\r\n          <el-table-column\r\n            prop=\"index\"\r\n            label=\"序号\"\r\n            width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.$index + 1 }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderPeopleName\"\r\n            label=\"投标联系人姓名\"\r\n            width=\"130\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.name }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"orderPeoplePhone\"\r\n            label=\"投标联系人电话\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.phoneNum }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"unitName\"\r\n            label=\"投标单位\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.unitName }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"total\"\r\n            label=\"总金额（元）\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.total }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"downloadStatus\"\r\n            label=\"已下载包件\"\r\n            :filters=\"[{text: '否', value: 0}, {text: '是', value: 1}]\"\r\n            :filter-method=\"filterDownload\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag\r\n                v-if=\"scope.row.downloadStatus === 0\"\r\n                :key=\"'否'\"\r\n                :type=\"'danger'\"\r\n                effect=\"dark\">\r\n                否\r\n              </el-tag>\r\n              <el-tag\r\n                v-if=\"scope.row.downloadStatus === 1\"\r\n                :key=\"'是'\"\r\n                :type=\"'success'\"\r\n                effect=\"dark\">\r\n                是\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"status\"\r\n            label=\"订单状态\"\r\n            width=\"150\"\r\n            :filters=\"[{text: '待付款', value: 0}, {text: '已付款', value: 1}, {text: '已完成', value: 2}, {text: '已失效', value: 3}, {text: '未通过', value: 4}]\"\r\n            :filter-method=\"filterStatus\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag\r\n                v-if=\"scope.row.status === 0\"\r\n                :key=\"'待付款'\"\r\n                :type=\"'warning'\"\r\n                effect=\"dark\">\r\n                待付款\r\n              </el-tag>\r\n              <el-tag\r\n                v-if=\"scope.row.status === 1\"\r\n                :key=\"'已付款'\"\r\n                :type=\"'primary'\"\r\n                effect=\"dark\">\r\n                已付款\r\n              </el-tag>\r\n              <el-tag\r\n                v-if=\"scope.row.status === 2\"\r\n                :key=\"'已完成'\"\r\n                :type=\"'success'\"\r\n                effect=\"dark\">\r\n                已完成\r\n              </el-tag>\r\n              <el-tag\r\n                v-if=\"scope.row.status === 3\"\r\n                :key=\"'已失效'\"\r\n                :type=\"'info'\"\r\n                effect=\"dark\">\r\n                已失效\r\n              </el-tag>\r\n              <el-tag\r\n                v-if=\"scope.row.status === 4\"\r\n                :key=\"'未通过'\"\r\n                :type=\"'danger'\"\r\n                effect=\"dark\">\r\n                未通过\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"onclickOrderDetails(scope.row)\" type=\"text\" size=\"small\">查看详情</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"block\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"page\"\r\n            :page-sizes=\"[5, 10, 20, 50]\"\r\n            :page-size=\"limit\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\"\r\n            style=\"padding: 30px 0; text-align: center;\">\r\n          </el-pagination>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getProjectInfo,\r\n  getOrderList,\r\n  postStopProject,\r\n  deleteProject,\r\n  getOrderPackageCount,\r\n  postStartProject\r\n} from '@/api/project_details'\r\nimport { addProjectFile, updateProject } from '@/api/table'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      queryData: {\r\n        id: 0\r\n      },\r\n      projectInfo: null,\r\n      orderQueryData: {\r\n        username: '',\r\n        id: 0\r\n      },\r\n      orderList: null,\r\n      page: 1,\r\n      limit: 5,\r\n      total: 0,\r\n      readStatus: 'readonly',\r\n      fileList: [],\r\n      updateData: {\r\n        projectName: '',\r\n        addition: '',\r\n        packageList: [],\r\n        status: [], // 0 新增， 1 更新， 2 不变\r\n        projectId: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.queryData.id = this.$route.params.id\r\n    this.orderQueryData.id = this.$route.params.id\r\n    this.getProjectDetails()\r\n    this.getOrderListPage()\r\n  },\r\n  methods: {\r\n    async getProjectDetails() {\r\n      this.listLoading = true\r\n      await getProjectInfo(this.queryData).then(response => {\r\n        this.projectInfo = response.data\r\n        this.updateData.packageList = response.data.packageList\r\n        const indexNum = this.updateData.packageList.length\r\n        for (let i = 0; i < indexNum; i++) {\r\n          this.$set(this.updateData.packageList[i], 'startTime', new Date(this.updateData.packageList[i].startTime))\r\n          this.$set(this.updateData.packageList[i], 'endTime', new Date(this.updateData.packageList[i].endTime))\r\n          this.updateData.status.push(2)\r\n          this.fileList.push({})\r\n        }\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    getOrderListPage() {\r\n      getOrderList(this.page, this.limit, this.orderQueryData).then(response => {\r\n        this.orderList = response.data.records\r\n        this.total = response.data.total\r\n      })\r\n    },\r\n    handleSizeChange(val) {\r\n      this.limit = val\r\n      this.getOrderListPage()\r\n      console.log(`每页 ${val} 条`)\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.page = val\r\n      this.getOrderListPage()\r\n      console.log(`当前页: ${val}`)\r\n    },\r\n    handleUpdataForm() {\r\n      this.readStatus = ''\r\n    },\r\n    async handleSubmitUpdata() {\r\n      this.readStatus = 'readonly'\r\n      this.updateData.projectId = this.projectInfo.id\r\n      this.updateData.projectName = this.projectInfo.projectName\r\n      this.updateData.addition = this.projectInfo.addition\r\n      this.updateData.id = this.projectInfo.projectId\r\n      for (var i = 0; i < this.fileList.length; i++) {\r\n        this.updateData.packageList[i].startTime = moment(new Date(this.updateData.packageList[i].startTime)).format('YYYY-MM-DD HH:mm:ss')\r\n        this.updateData.packageList[i].endTime = moment(new Date(this.updateData.packageList[i].endTime)).format('YYYY-MM-DD HH:mm:ss')\r\n        if (this.updateData.status[i] === 2) {\r\n          continue\r\n        }\r\n        var filedata = new FormData()\r\n        filedata.append('file', this.fileList[i].raw)\r\n        await addProjectFile(filedata).then(response => {\r\n          if (response.message === 'success') {\r\n            this.updateData.packageList[i].filePath = response.data.filePath\r\n            this.updateData.packageList[i].fileName = response.data.fileName\r\n          } else {\r\n            i = i - 1\r\n          }\r\n        })\r\n      }\r\n      updateProject(this.updateData).then(response => {\r\n        this.$message.success('更新成功！')\r\n        this.$router.push({\r\n          name: 'project_details',\r\n          params: {\r\n            id: this.projectInfo.id\r\n          }\r\n        })\r\n      })\r\n    },\r\n    cancelModification() {\r\n      this.$router.go(0)\r\n    },\r\n    onclickStopProject() {\r\n      postStopProject(this.projectInfo.id).then(res => {\r\n        console.log(res)\r\n        this.$router.go(0)\r\n      })\r\n    },\r\n    onclickStartProject() {\r\n      postStartProject(this.projectInfo.id).then(res => {\r\n        console.log(res)\r\n        this.$router.go(0)\r\n      })\r\n    },\r\n    onclickDeleteProject() {\r\n      deleteProject(this.projectInfo.id).then(res => {\r\n        this.$router.push('/table')\r\n        console.log(res)\r\n      })\r\n    },\r\n    onclickOrderDetails(e) {\r\n      this.$router.push({\r\n        name: 'order_details',\r\n        params: {\r\n          id: e.id\r\n        }\r\n      })\r\n    },\r\n    addList() {\r\n      this.updateData.packageList.push({\r\n        id: '',\r\n        fileName: '',\r\n        filePath: '',\r\n        packageName: '',\r\n        price: '',\r\n        projectId: this.projectInfo.id,\r\n        startTime: '',\r\n        endTime: ''\r\n      })\r\n      this.updateData.status.push(2)\r\n      this.fileList.push({})\r\n    },\r\n    // 新增一行\r\n    addParamsSetting() {\r\n      this.addList()\r\n    },\r\n\r\n    // 删除当前行\r\n    deleteRow(index) {\r\n      getOrderPackageCount(this.updateData.packageList[index].id).then(res => {\r\n        if (res.data > 0) {\r\n          this.$message.error({\r\n            message: '该包件已被购买，无法删除！',\r\n            toString: () => this.message\r\n          })\r\n        } else {\r\n          this.updateData.packageList.splice(index, 1)\r\n          this.updateData.status.splice(index, 1)\r\n          this.fileList.splice(index, 1)\r\n        }\r\n      })\r\n    },\r\n    handleChange(file, filelist, index) {\r\n      const fileSize = Number(file.size / 1024 / 1024)\r\n      if (fileSize > 2048) {\r\n        this.$message.warning('文件大小不能超过2GB，请重新上传。')\r\n        filelist.splice(filelist.length - 1, 1)\r\n        return\r\n      }\r\n      while (filelist.length > 1) {\r\n        filelist.splice(0, 1)\r\n      }\r\n      if (file) {\r\n        this.fileList[index] = filelist[filelist.length - 1]\r\n        if (this.updateData.packageList[index].filePath === '') {\r\n          this.updateData.status[index] = 0\r\n        } else {\r\n          this.updateData.status[index] = 1\r\n        }\r\n      }\r\n    },\r\n\r\n    handleRemove(file, filelist, index) {\r\n      this.fileList[index] = {}\r\n    },\r\n    handlePreview(file) {\r\n      console.log(file)\r\n    },\r\n    downloadOrderExcel() {\r\n      const url = process.env.VUE_APP_BASE_API + '/api/order/downloadOrderList/' + this.projectInfo.id\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.click()\r\n    },\r\n    filterDownload(value, row) {\r\n      return row.downloadStatus === value\r\n    },\r\n    filterStatus(value, row) {\r\n      return row.status === value\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}