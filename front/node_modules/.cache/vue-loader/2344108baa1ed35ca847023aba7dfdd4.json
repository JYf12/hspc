{"remainingRequest":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\src\\views\\project_details\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\src\\views\\project_details\\index.vue","mtime":1698734403324},{"path":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681715802937},{"path":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1681715802987},{"path":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681715802937},{"path":"D:\\其他\\刘老师\\项目\\华胜投标招标\\bidding-agent-be\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1681715801225}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0UHJvamVjdEluZm8sCiAgZ2V0T3JkZXJMaXN0LAogIHBvc3RTdG9wUHJvamVjdCwKICBkZWxldGVQcm9qZWN0LAogIGdldE9yZGVyUGFja2FnZUNvdW50LAogIHBvc3RTdGFydFByb2plY3QKfSBmcm9tICdAL2FwaS9wcm9qZWN0X2RldGFpbHMnCmltcG9ydCB7IGFkZFByb2plY3RGaWxlLCB1cGRhdGVQcm9qZWN0IH0gZnJvbSAnQC9hcGkvdGFibGUnCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeURhdGE6IHsKICAgICAgICBpZDogMAogICAgICB9LAogICAgICBwcm9qZWN0SW5mbzogbnVsbCwKICAgICAgb3JkZXJRdWVyeURhdGE6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgaWQ6IDAKICAgICAgfSwKICAgICAgb3JkZXJMaXN0OiBudWxsLAogICAgICBwYWdlOiAxLAogICAgICBsaW1pdDogNSwKICAgICAgdG90YWw6IDAsCiAgICAgIHJlYWRTdGF0dXM6ICdyZWFkb25seScsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdXBkYXRlRGF0YTogewogICAgICAgIHByb2plY3ROYW1lOiAnJywKICAgICAgICBhZGRpdGlvbjogJycsCiAgICAgICAgcGFja2FnZUxpc3Q6IFtdLAogICAgICAgIHN0YXR1czogW10sIC8vIDAg5paw5aKe77yMIDEg5pu05paw77yMIDIg5LiN5Y+YCiAgICAgICAgcHJvamVjdElkOiAnJwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5xdWVyeURhdGEuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIHRoaXMub3JkZXJRdWVyeURhdGEuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgIHRoaXMuZ2V0UHJvamVjdERldGFpbHMoKQogICAgdGhpcy5nZXRPcmRlckxpc3RQYWdlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldFByb2plY3REZXRhaWxzKCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBhd2FpdCBnZXRQcm9qZWN0SW5mbyh0aGlzLnF1ZXJ5RGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wcm9qZWN0SW5mbyA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLnVwZGF0ZURhdGEucGFja2FnZUxpc3QgPSByZXNwb25zZS5kYXRhLnBhY2thZ2VMaXN0CiAgICAgICAgY29uc3QgaW5kZXhOdW0gPSB0aGlzLnVwZGF0ZURhdGEucGFja2FnZUxpc3QubGVuZ3RoCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleE51bTsgaSsrKSB7CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLCAnc3RhcnRUaW1lJywgbmV3IERhdGUodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLnN0YXJ0VGltZSkpCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLCAnZW5kVGltZScsIG5ldyBEYXRlKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5lbmRUaW1lKSkKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5zdGF0dXMucHVzaCgyKQogICAgICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKHt9KQogICAgICAgIH0KICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBnZXRPcmRlckxpc3RQYWdlKCkgewogICAgICBnZXRPcmRlckxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLm9yZGVyUXVlcnlEYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLm9yZGVyTGlzdCA9IHJlc3BvbnNlLmRhdGEucmVjb3JkcwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5saW1pdCA9IHZhbAogICAgICB0aGlzLmdldE9yZGVyTGlzdFBhZ2UoKQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKQogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZSA9IHZhbAogICAgICB0aGlzLmdldE9yZGVyTGlzdFBhZ2UoKQogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKQogICAgfSwKICAgIGhhbmRsZVVwZGF0YUZvcm0oKSB7CiAgICAgIHRoaXMucmVhZFN0YXR1cyA9ICcnCiAgICB9LAogICAgYXN5bmMgaGFuZGxlU3VibWl0VXBkYXRhKCkgewogICAgICB0aGlzLnJlYWRTdGF0dXMgPSAncmVhZG9ubHknCiAgICAgIHRoaXMudXBkYXRlRGF0YS5wcm9qZWN0SWQgPSB0aGlzLnByb2plY3RJbmZvLmlkCiAgICAgIHRoaXMudXBkYXRlRGF0YS5wcm9qZWN0TmFtZSA9IHRoaXMucHJvamVjdEluZm8ucHJvamVjdE5hbWUKICAgICAgdGhpcy51cGRhdGVEYXRhLmFkZGl0aW9uID0gdGhpcy5wcm9qZWN0SW5mby5hZGRpdGlvbgogICAgICB0aGlzLnVwZGF0ZURhdGEuaWQgPSB0aGlzLnByb2plY3RJbmZvLnByb2plY3RJZAogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZmlsZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnVwZGF0ZURhdGEucGFja2FnZUxpc3RbaV0uc3RhcnRUaW1lID0gbW9tZW50KG5ldyBEYXRlKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5zdGFydFRpbWUpKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQogICAgICAgIHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5lbmRUaW1lID0gbW9tZW50KG5ldyBEYXRlKHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5lbmRUaW1lKSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykKICAgICAgICBpZiAodGhpcy51cGRhdGVEYXRhLnN0YXR1c1tpXSA9PT0gMikgewogICAgICAgICAgY29udGludWUKICAgICAgICB9CiAgICAgICAgdmFyIGZpbGVkYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBmaWxlZGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGVMaXN0W2ldLnJhdykKICAgICAgICBhd2FpdCBhZGRQcm9qZWN0RmlsZShmaWxlZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5wYWNrYWdlTGlzdFtpXS5maWxlUGF0aCA9IHJlc3BvbnNlLmRhdGEuZmlsZVBhdGgKICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2ldLmZpbGVOYW1lID0gcmVzcG9uc2UuZGF0YS5maWxlTmFtZQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaSA9IGkgLSAxCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgICB1cGRhdGVQcm9qZWN0KHRoaXMudXBkYXRlRGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDmiJDlip/vvIEnKQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdwcm9qZWN0X2RldGFpbHMnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiB0aGlzLnByb2plY3RJbmZvLmlkCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBjYW5jZWxNb2RpZmljYXRpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygwKQogICAgfSwKICAgIG9uY2xpY2tTdG9wUHJvamVjdCgpIHsKICAgICAgcG9zdFN0b3BQcm9qZWN0KHRoaXMucHJvamVjdEluZm8uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApCiAgICAgIH0pCiAgICB9LAogICAgb25jbGlja1N0YXJ0UHJvamVjdCgpIHsKICAgICAgcG9zdFN0YXJ0UHJvamVjdCh0aGlzLnByb2plY3RJbmZvLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuJHJvdXRlci5nbygwKQogICAgICB9KQogICAgfSwKICAgIG9uY2xpY2tEZWxldGVQcm9qZWN0KCkgewogICAgICBkZWxldGVQcm9qZWN0KHRoaXMucHJvamVjdEluZm8uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3RhYmxlJykKICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgIH0pCiAgICB9LAogICAgb25jbGlja09yZGVyRGV0YWlscyhlKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnb3JkZXJfZGV0YWlscycsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogZS5pZAogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBhZGRMaXN0KCkgewogICAgICB0aGlzLnVwZGF0ZURhdGEucGFja2FnZUxpc3QucHVzaCh7CiAgICAgICAgaWQ6ICcnLAogICAgICAgIGZpbGVOYW1lOiAnJywKICAgICAgICBmaWxlUGF0aDogJycsCiAgICAgICAgcGFja2FnZU5hbWU6ICcnLAogICAgICAgIHByaWNlOiAnJywKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMucHJvamVjdEluZm8uaWQsCiAgICAgICAgc3RhcnRUaW1lOiAnJywKICAgICAgICBlbmRUaW1lOiAnJwogICAgICB9KQogICAgICB0aGlzLnVwZGF0ZURhdGEuc3RhdHVzLnB1c2goMikKICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKHt9KQogICAgfSwKICAgIC8vIOaWsOWinuS4gOihjAogICAgYWRkUGFyYW1zU2V0dGluZygpIHsKICAgICAgdGhpcy5hZGRMaXN0KCkKICAgIH0sCgogICAgLy8g5Yig6Zmk5b2T5YmN6KGMCiAgICBkZWxldGVSb3coaW5kZXgpIHsKICAgICAgZ2V0T3JkZXJQYWNrYWdlQ291bnQodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2luZGV4XS5pZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuZGF0YSA+IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICBtZXNzYWdlOiAn6K+l5YyF5Lu25bey6KKr6LSt5Lmw77yM5peg5rOV5Yig6Zmk77yBJywKICAgICAgICAgICAgdG9TdHJpbmc6ICgpID0+IHRoaXMubWVzc2FnZQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0LnNwbGljZShpbmRleCwgMSkKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5zdGF0dXMuc3BsaWNlKGluZGV4LCAxKQogICAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNoYW5nZShmaWxlLCBmaWxlbGlzdCwgaW5kZXgpIHsKICAgICAgY29uc3QgZmlsZVNpemUgPSBOdW1iZXIoZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQpCiAgICAgIGlmIChmaWxlU2l6ZSA+IDIwNDgpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aWh+S7tuWkp+Wwj+S4jeiDvei2hei/hzJHQu+8jOivt+mHjeaWsOS4iuS8oOOAgicpCiAgICAgICAgZmlsZWxpc3Quc3BsaWNlKGZpbGVsaXN0Lmxlbmd0aCAtIDEsIDEpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgd2hpbGUgKGZpbGVsaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICBmaWxlbGlzdC5zcGxpY2UoMCwgMSkKICAgICAgfQogICAgICBpZiAoZmlsZSkgewogICAgICAgIHRoaXMuZmlsZUxpc3RbaW5kZXhdID0gZmlsZWxpc3RbZmlsZWxpc3QubGVuZ3RoIC0gMV0KICAgICAgICBpZiAodGhpcy51cGRhdGVEYXRhLnBhY2thZ2VMaXN0W2luZGV4XS5maWxlUGF0aCA9PT0gJycpIHsKICAgICAgICAgIHRoaXMudXBkYXRlRGF0YS5zdGF0dXNbaW5kZXhdID0gMAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZURhdGEuc3RhdHVzW2luZGV4XSA9IDEKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVsaXN0LCBpbmRleCkgewogICAgICB0aGlzLmZpbGVMaXN0W2luZGV4XSA9IHt9CiAgICB9LAogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICB9LAogICAgZG93bmxvYWRPcmRlckV4Y2VsKCkgewogICAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJICsgJy9hcGkvb3JkZXIvZG93bmxvYWRPcmRlckxpc3QvJyArIHRoaXMucHJvamVjdEluZm8uaWQKICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKQogICAgICBhLmhyZWYgPSB1cmwKICAgICAgYS5jbGljaygpCiAgICB9LAogICAgZmlsdGVyRG93bmxvYWQodmFsdWUsIHJvdykgewogICAgICByZXR1cm4gcm93LmRvd25sb2FkU3RhdHVzID09PSB2YWx1ZQogICAgfSwKICAgIGZpbHRlclN0YXR1cyh2YWx1ZSwgcm93KSB7CiAgICAgIHJldHVybiByb3cuc3RhdHVzID09PSB2YWx1ZQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/project_details","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"projectInfo\" label-width=\"120px\">\n      <el-form-item>\n        <el-button @click=\"handleUpdataForm\" v-if=\"readStatus==='readonly'\" type=\"primary\">修改</el-button>\n        <el-button @click=\"handleSubmitUpdata\" v-if=\"readStatus===''\" type=\"primary\">确定</el-button>\n        <el-button @click=\"cancelModification\" v-if=\"readStatus===''\" type=\"primary\">取消</el-button>\n        <el-button @click=\"onclickStopProject\" v-if=\"this.projectInfo.status===1\" type=\"warning\">停止招标</el-button>\n        <el-button @click=\"onclickStartProject\" v-if=\"this.projectInfo.status===2\" type=\"primary\">开始招标</el-button>\n        <el-button @click=\"onclickDeleteProject\" type=\"danger\">删除</el-button>\n      </el-form-item>\n      <el-form-item label=\"项目编号\">\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.projectId\"/>\n      </el-form-item>\n      <el-form-item label=\"项目名称\">\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.projectName\"/>\n      </el-form-item>\n      <el-form-item label=\"备注\">\n        <el-input :readonly=\"readStatus==='readonly'\" v-model=\"projectInfo.addition\" type=\"textarea\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button v-if=\"readStatus===''\" type=\"primary\" size=\"small\" @click=\"addParamsSetting\">新增包件</el-button>\n      </el-form-item>\n      <el-form-item label=\"包件信息\">\n        <el-table\n          :data=\"updateData.packageList\"\n          style=\"width: 100%\"\n          class=\"list-table\"\n          size=\"mini\"\n          border>\n          <el-table-column prop=\"index\" label=\"序号\" width=\"50\">\n            <template slot-scope=\"scope\">\n              <el-form-item>\n                {{ scope.$index + 1 }}\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"packageName\" label=\"包件名称\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'form.tableData.' + scope.$index + '.packageName'\"\n                :rules=\"[{ required: true, message: '包件名称不可为空', trigger: 'change' }]\">\n                <el-input :readonly=\"readStatus==='readonly'\" v-model=\"scope.row.packageName\" placeholder=\"请输入包件名称\"></el-input>\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"price\" label=\"招标文件费\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'form.tableData.' + scope.$index + '.price'\"\n                :rules=\"[{ required: true, message: '招标文件费不可为空', trigger: 'change' }]\"\n              >\n                <el-input :readonly=\"readStatus==='readonly'\" v-model=\"scope.row.price\" placeholder=\"请输入招标文件费\" @keyup=\"value=value.replace(/[^\\d]/g,'')\" @blur=\"value=value.replace(/[^\\d]/g,'')\">\n                  <template slot=\"append\">元</template>\n                </el-input>\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"startTime\" label=\"开始时间\">\n            <template slot-scope=\"scope\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'form.tableData.' + scope.$index + '.startTime'\"\n                :rules=\"[{ required: true, message: '开始时间不可为空', trigger: 'change' }]\">\n                <el-date-picker\n                  :readonly=\"readStatus==='readonly'\"\n                  v-model=\"scope.row.startTime\"\n                  type=\"datetime\"\n                  placeholder=\"选择开始时间\"\n                  value-format=\"yyyy-MM-dd HH:mm:ss\">\n                </el-date-picker>\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"endTime\" label=\"结束时间\">\n            <template slot-scope=\"scope\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'form.tableData.' + scope.$index + '.endTime'\"\n                :rules=\"[{ required: true, message: '结束时间不可为空', trigger: 'change' }]\">\n                <el-date-picker\n                  :readonly=\"readStatus==='readonly'\"\n                  v-model=\"scope.row.endTime\"\n                  type=\"datetime\"\n                  placeholder=\"选择结束时间\"\n                  value-format=\"yyyy-MM-dd HH:mm:ss\">\n                </el-date-picker>\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"filePath\" label=\"招标文件\" width=\"200\">\n            <template slot-scope=\"scope\">\n              <el-form-item\n                label=\"\"\n                :prop=\"'form.tableData.' + scope.$index + '.fileList'\"\n                :rules=\"[{ required: true, message: '招标文件不可为空', trigger: 'change' }]\"\n              >\n                <el-upload\n                  v-if=\"readStatus===''\"\n                  action=\"http://localhost:8089\"\n                  class=\"upload-demo\"\n                  ref=\"upload\"\n                  :on-change=\"(file, filelist) => {handleChange(file, filelist, scope.$index)}\"\n                  :on-preview=\"handlePreview\"\n                  :on-remove=\"(file, filelist) => {handleRemove(file, filelist, scope.$index)}\"\n                  :limit=\"2\"\n                  :auto-upload=\"false\">\n                  选取文件\n                </el-upload>\n                <p v-if=\"readStatus==='readonly'\">{{ scope.row.fileName }}</p>\n              </el-form-item>\n            </template>\n          </el-table-column>\n          <el-table-column v-if=\"readStatus===''\" label=\"操作\" width=\"50\">\n            <template slot-scope=\"scope\">\n              <el-button @click.native.prevent=\"deleteRow(scope.$index)\" type=\"text\" size=\"small\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"downloadOrderExcel\" type=\"primary\">投标信息下载</el-button>\n      </el-form-item>\n      <el-form-item label=\"投标信息\">\n        <el-table\n          :data=\"orderList\"\n          style=\"width: 100%\"\n          :row-class-name=\"tableRowClassName\">\n          <el-table-column\n            prop=\"index\"\n            label=\"序号\"\n            width=\"80\">\n            <template slot-scope=\"scope\">\n              {{ scope.$index + 1 }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"orderPeopleName\"\n            label=\"投标联系人姓名\"\n            width=\"130\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.name }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"orderPeoplePhone\"\n            label=\"投标联系人电话\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.phoneNum }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"unitName\"\n            label=\"投标单位\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.unitName }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"total\"\n            label=\"总金额（元）\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.total }}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"downloadStatus\"\n            label=\"已下载包件\"\n            :filters=\"[{text: '否', value: 0}, {text: '是', value: 1}]\"\n            :filter-method=\"filterDownload\">\n            <template slot-scope=\"scope\">\n              <el-tag\n                v-if=\"scope.row.downloadStatus === 0\"\n                :key=\"'否'\"\n                :type=\"'danger'\"\n                effect=\"dark\">\n                否\n              </el-tag>\n              <el-tag\n                v-if=\"scope.row.downloadStatus === 1\"\n                :key=\"'是'\"\n                :type=\"'success'\"\n                effect=\"dark\">\n                是\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"status\"\n            label=\"订单状态\"\n            width=\"150\"\n            :filters=\"[{text: '待付款', value: 0}, {text: '已付款', value: 1}, {text: '已完成', value: 2}, {text: '已失效', value: 3}, {text: '未通过', value: 4}]\"\n            :filter-method=\"filterStatus\">\n            <template slot-scope=\"scope\">\n              <el-tag\n                v-if=\"scope.row.status === 0\"\n                :key=\"'待付款'\"\n                :type=\"'warning'\"\n                effect=\"dark\">\n                待付款\n              </el-tag>\n              <el-tag\n                v-if=\"scope.row.status === 1\"\n                :key=\"'已付款'\"\n                :type=\"'primary'\"\n                effect=\"dark\">\n                已付款\n              </el-tag>\n              <el-tag\n                v-if=\"scope.row.status === 2\"\n                :key=\"'已完成'\"\n                :type=\"'success'\"\n                effect=\"dark\">\n                已完成\n              </el-tag>\n              <el-tag\n                v-if=\"scope.row.status === 3\"\n                :key=\"'已失效'\"\n                :type=\"'info'\"\n                effect=\"dark\">\n                已失效\n              </el-tag>\n              <el-tag\n                v-if=\"scope.row.status === 4\"\n                :key=\"'未通过'\"\n                :type=\"'danger'\"\n                effect=\"dark\">\n                未通过\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button @click=\"onclickOrderDetails(scope.row)\" type=\"text\" size=\"small\">查看详情</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"block\">\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"page\"\n            :page-sizes=\"[5, 10, 20, 50]\"\n            :page-size=\"limit\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\"\n            style=\"padding: 30px 0; text-align: center;\">\n          </el-pagination>\n        </div>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport {\n  getProjectInfo,\n  getOrderList,\n  postStopProject,\n  deleteProject,\n  getOrderPackageCount,\n  postStartProject\n} from '@/api/project_details'\nimport { addProjectFile, updateProject } from '@/api/table'\nimport moment from 'moment'\n\nexport default {\n  data() {\n    return {\n      queryData: {\n        id: 0\n      },\n      projectInfo: null,\n      orderQueryData: {\n        username: '',\n        id: 0\n      },\n      orderList: null,\n      page: 1,\n      limit: 5,\n      total: 0,\n      readStatus: 'readonly',\n      fileList: [],\n      updateData: {\n        projectName: '',\n        addition: '',\n        packageList: [],\n        status: [], // 0 新增， 1 更新， 2 不变\n        projectId: ''\n      }\n    }\n  },\n  created() {\n    this.queryData.id = this.$route.params.id\n    this.orderQueryData.id = this.$route.params.id\n    this.getProjectDetails()\n    this.getOrderListPage()\n  },\n  methods: {\n    async getProjectDetails() {\n      this.listLoading = true\n      await getProjectInfo(this.queryData).then(response => {\n        this.projectInfo = response.data\n        this.updateData.packageList = response.data.packageList\n        const indexNum = this.updateData.packageList.length\n        for (let i = 0; i < indexNum; i++) {\n          this.$set(this.updateData.packageList[i], 'startTime', new Date(this.updateData.packageList[i].startTime))\n          this.$set(this.updateData.packageList[i], 'endTime', new Date(this.updateData.packageList[i].endTime))\n          this.updateData.status.push(2)\n          this.fileList.push({})\n        }\n        this.listLoading = false\n      })\n    },\n    getOrderListPage() {\n      getOrderList(this.page, this.limit, this.orderQueryData).then(response => {\n        this.orderList = response.data.records\n        this.total = response.data.total\n      })\n    },\n    handleSizeChange(val) {\n      this.limit = val\n      this.getOrderListPage()\n      console.log(`每页 ${val} 条`)\n    },\n    handleCurrentChange(val) {\n      this.page = val\n      this.getOrderListPage()\n      console.log(`当前页: ${val}`)\n    },\n    handleUpdataForm() {\n      this.readStatus = ''\n    },\n    async handleSubmitUpdata() {\n      this.readStatus = 'readonly'\n      this.updateData.projectId = this.projectInfo.id\n      this.updateData.projectName = this.projectInfo.projectName\n      this.updateData.addition = this.projectInfo.addition\n      this.updateData.id = this.projectInfo.projectId\n      for (var i = 0; i < this.fileList.length; i++) {\n        this.updateData.packageList[i].startTime = moment(new Date(this.updateData.packageList[i].startTime)).format('YYYY-MM-DD HH:mm:ss')\n        this.updateData.packageList[i].endTime = moment(new Date(this.updateData.packageList[i].endTime)).format('YYYY-MM-DD HH:mm:ss')\n        if (this.updateData.status[i] === 2) {\n          continue\n        }\n        var filedata = new FormData()\n        filedata.append('file', this.fileList[i].raw)\n        await addProjectFile(filedata).then(response => {\n          if (response.message === 'success') {\n            this.updateData.packageList[i].filePath = response.data.filePath\n            this.updateData.packageList[i].fileName = response.data.fileName\n          } else {\n            i = i - 1\n          }\n        })\n      }\n      updateProject(this.updateData).then(response => {\n        this.$message.success('更新成功！')\n        this.$router.push({\n          name: 'project_details',\n          params: {\n            id: this.projectInfo.id\n          }\n        })\n      })\n    },\n    cancelModification() {\n      this.$router.go(0)\n    },\n    onclickStopProject() {\n      postStopProject(this.projectInfo.id).then(res => {\n        console.log(res)\n        this.$router.go(0)\n      })\n    },\n    onclickStartProject() {\n      postStartProject(this.projectInfo.id).then(res => {\n        console.log(res)\n        this.$router.go(0)\n      })\n    },\n    onclickDeleteProject() {\n      deleteProject(this.projectInfo.id).then(res => {\n        this.$router.push('/table')\n        console.log(res)\n      })\n    },\n    onclickOrderDetails(e) {\n      this.$router.push({\n        name: 'order_details',\n        params: {\n          id: e.id\n        }\n      })\n    },\n    addList() {\n      this.updateData.packageList.push({\n        id: '',\n        fileName: '',\n        filePath: '',\n        packageName: '',\n        price: '',\n        projectId: this.projectInfo.id,\n        startTime: '',\n        endTime: ''\n      })\n      this.updateData.status.push(2)\n      this.fileList.push({})\n    },\n    // 新增一行\n    addParamsSetting() {\n      this.addList()\n    },\n\n    // 删除当前行\n    deleteRow(index) {\n      getOrderPackageCount(this.updateData.packageList[index].id).then(res => {\n        if (res.data > 0) {\n          this.$message.error({\n            message: '该包件已被购买，无法删除！',\n            toString: () => this.message\n          })\n        } else {\n          this.updateData.packageList.splice(index, 1)\n          this.updateData.status.splice(index, 1)\n          this.fileList.splice(index, 1)\n        }\n      })\n    },\n    handleChange(file, filelist, index) {\n      const fileSize = Number(file.size / 1024 / 1024)\n      if (fileSize > 2048) {\n        this.$message.warning('文件大小不能超过2GB，请重新上传。')\n        filelist.splice(filelist.length - 1, 1)\n        return\n      }\n      while (filelist.length > 1) {\n        filelist.splice(0, 1)\n      }\n      if (file) {\n        this.fileList[index] = filelist[filelist.length - 1]\n        if (this.updateData.packageList[index].filePath === '') {\n          this.updateData.status[index] = 0\n        } else {\n          this.updateData.status[index] = 1\n        }\n      }\n    },\n\n    handleRemove(file, filelist, index) {\n      this.fileList[index] = {}\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n    downloadOrderExcel() {\n      const url = process.env.VUE_APP_BASE_API + '/api/order/downloadOrderList/' + this.projectInfo.id\n      const a = document.createElement('a')\n      a.href = url\n      a.click()\n    },\n    filterDownload(value, row) {\n      return row.downloadStatus === value\n    },\n    filterStatus(value, row) {\n      return row.status === value\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}