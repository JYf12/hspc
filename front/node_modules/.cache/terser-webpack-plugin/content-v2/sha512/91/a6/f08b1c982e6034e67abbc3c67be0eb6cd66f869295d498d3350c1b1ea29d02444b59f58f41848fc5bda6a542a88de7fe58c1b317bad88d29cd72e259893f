{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0abc7e\"],{1779:function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",[a(\"el-form-item\",[a(\"el-dialog\",{attrs:{title:\"提示\",visible:e.altPasDiaVis,width:\"30%\"},on:{\"update:visible\":function(t){e.altPasDiaVis=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.altPasData,\"label-width\":\"120px\"}},[a(\"el-form-item\",{attrs:{label:\"新密码:\",rules:[{required:!0,message:\"请输入新密码\"}]}},[a(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{type:\"password\"},model:{value:e.altPasData.newPassword,callback:function(t){e.$set(e.altPasData,\"newPassword\",t)},expression:\"altPasData.newPassword\"}})],1),a(\"el-form-item\",{attrs:{label:\"确认新密码:\",rules:[{pattern:e.adminUser.userPassword===e.adminUser.checkPassword,required:!0,message:\"两次输入密码不一致\"}]}},[a(\"el-input\",{staticStyle:{width:\"80%\"},attrs:{type:\"password\"},model:{value:e.altPasData.checkNewPas,callback:function(t){e.$set(e.altPasData,\"checkNewPas\",t)},expression:\"altPasData.checkNewPas\"}})],1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.altPasDiaVis=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onclickAlterPassword}},[e._v(\"确 定\")])],1)],1)],1),\"[admin]\"===e.role?a(\"el-button\",{attrs:{type:\"primary\",plain:\"\"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(\"新增管理员用户\")]):e._e(),a(\"el-dialog\",{attrs:{title:\"提示\",visible:e.dialogVisible,width:\"30%\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.adminUser,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"姓名\",rules:[{required:!0,message:\"请输入姓名\"}]}},[a(\"el-input\",{staticStyle:{width:\"70%\"},model:{value:e.adminUser.username,callback:function(t){e.$set(e.adminUser,\"username\",t)},expression:\"adminUser.username\"}})],1),a(\"el-form-item\",{attrs:{label:\"账号\",rules:[{required:!0,message:\"请输入账号\"}]}},[a(\"el-input\",{staticStyle:{width:\"70%\"},model:{value:e.adminUser.userAccount,callback:function(t){e.$set(e.adminUser,\"userAccount\",t)},expression:\"adminUser.userAccount\"}})],1),a(\"el-form-item\",{attrs:{label:\"密码\",rules:[{required:!0,message:\"请输入密码\"}]}},[a(\"el-input\",{staticStyle:{width:\"70%\"},attrs:{type:\"password\"},model:{value:e.adminUser.userPassword,callback:function(t){e.$set(e.adminUser,\"userPassword\",t)},expression:\"adminUser.userPassword\"}})],1),a(\"el-form-item\",{attrs:{label:\"确认密码\",rules:[{pattern:e.adminUser.userPassword===e.adminUser.checkPassword,required:!0,message:\"两次输入密码不一致\"}]}},[a(\"el-input\",{staticStyle:{width:\"70%\"},attrs:{type:\"password\"},model:{value:e.adminUser.checkPassword,callback:function(t){e.$set(e.adminUser,\"checkPassword\",t)},expression:\"adminUser.checkPassword\"}})],1),a(\"el-form-item\",{attrs:{label:\"权限\",rules:[{required:!0}]}},[a(\"el-radio\",{attrs:{label:\"0\"},model:{value:e.adminUser.isAdmin,callback:function(t){e.$set(e.adminUser,\"isAdmin\",t)},expression:\"adminUser.isAdmin\"}},[e._v(\"普通管理员\")]),a(\"el-radio\",{attrs:{label:\"1\"},model:{value:e.adminUser.isAdmin,callback:function(t){e.$set(e.adminUser,\"isAdmin\",t)},expression:\"adminUser.isAdmin\"}},[e._v(\"超级管理员\")])],1),a(\"el-form-item\",[a(\"el-button\",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onclickAddUser}},[e._v(\"确 定\")])],1)],1)],1)],1),a(\"el-form-item\",[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],attrs:{data:e.list,\"element-loading-text\":\"Loading\",border:\"\",fit:\"\",\"highlight-current-row\":\"\"}},[a(\"el-table-column\",{attrs:{align:\"center\",label:\"ID\",width:\"95\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\" \"+e._s(t.$index+1)+\" \")]}}])}),a(\"el-table-column\",{attrs:{align:\"center\",label:\"用户姓名\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[e._v(\" \"+e._s(t.row.username)+\" \")]}}])}),a(\"el-table-column\",{attrs:{label:\"用户账户\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",[e._v(e._s(t.row.userAccount))])]}}])}),a(\"el-table-column\",{attrs:{label:\"用户类型\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[\"1\"==t.row.isSuperadmin?a(\"span\",[e._v(\"超级管理员\")]):e._e(),\"0\"==t.row.isSuperadmin?a(\"span\",[e._v(\"普通管理员\")]):e._e()]}}])}),\"[admin]\"===e.role?a(\"el-table-column\",{attrs:{label:\"用户管理\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},nativeOn:{click:function(a){return a.preventDefault(),e.openAlterPas(t.row.id)}}},[e._v(\"修改密码\")]),a(\"el-button\",{attrs:{type:\"text\",size:\"small\"},nativeOn:{click:function(a){return a.preventDefault(),e.onclickDeleteUser(t.row.id)}}},[e._v(\"删除\")])]}}],null,!1,1599542175)}):e._e()],1)],1)],1)],1)},i=[],r=a(\"5530\"),n=a(\"b775\");function l(e){return Object(n[\"a\"])({url:\"/api/adminuser/userList\",method:\"get\",params:e})}function o(e){return Object(n[\"a\"])({url:\"/api/adminuser/register\",method:\"post\",data:e})}function c(e){return Object(n[\"a\"])({url:\"/api/adminuser/alterUserScope\",method:\"post\",data:e})}function u(e){return Object(n[\"a\"])({url:\"/api/adminuser/deleteAdminUser\",method:\"post\",data:{id:e}})}function d(e){return Object(n[\"a\"])({url:\"/api/adminuser/alterPassword\",method:\"post\",data:e})}var m=a(\"2f62\"),f={filters:{statusFilter:function(e){var t={published:\"success\",draft:\"gray\",deleted:\"danger\"};return t[e]}},computed:Object(r[\"a\"])({},Object(m[\"b\"])([\"role\"])),data:function(){return{list:null,listLoading:!0,adminUser:{username:\"\",userAccount:\"\",userPassword:\"\",checkPassword:\"\",isAdmin:\"\"},dialogVisible:!1,altScopeDiaVis:!1,altPasDiaVis:!1,altPasData:{id:0,newPassword:\"\",checkNewPas:\"\"}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,l().then((function(t){e.list=t.data,e.listLoading=!1}))},onclickAddUser:function(){var e=this;o(this.adminUser).then((function(t){e.dialogVisible=!1,e.$router.go(0)}))},onclickDeleteUser:function(e){var t=this;u(e).then((function(e){t.$router.go(0)}))},onclickAlterUser:function(){var e=this;c(this.altScopeData).then((function(t){e.$router.go(0)}))},onclickAlterPassword:function(e){var t=this;d(this.altPasData).then((function(e){t.$router.go(0)}))},openAlterUser:function(e){this.altScopeData.id=e,this.altScopeDiaVis=!0},openAlterPas:function(e){this.altPasData.id=e,this.altPasDiaVis=!0}}},p=f,b=a(\"2877\"),w=Object(b[\"a\"])(p,s,i,!1,null,null,null);t[\"default\"]=w.exports}}]);","extractedComments":[]}